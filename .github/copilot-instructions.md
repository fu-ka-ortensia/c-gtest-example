# 全体に関わるルール

> **プロンプト実行時には、必ずこのファイルを最初に確認してください。**
> **プロンプト実行後、生成されたコードが正しいか自分でチェックし、ルール違反があればやり直してください。**

## 重要：指摘・判断時のチェック項目

ドキュメント内に不整合を発見したと判断する前に、必ず以下を確認してください：

1. **チェックリストと実装例の両方を読んだか？** - チェックリストの説明部分と、実装例のコード両方を確認
2. **注釈を見落としていないか？** - 「OK」「NG」の区別や、例外条件がないか確認
3. **全体的な一貫性を確認したか？** - 複数の箇所で同じルールが適用されているか横断的に確認
4. **ユーザーの意図を誤解していないか？** - 修正前に必ずユーザーに確認する

**特に間違えやすいパターン：**
- チェックリストの説明だけを読んで、実装例を読み間違える
- 古い情報と新しい情報が混在していると勝手に判断する
- 「～でOK」という例外条件を見落とす

**対策：**
- ドキュメント内の矛盾を指摘する前に、必ず **「チェックリスト」「説明」「コード例」の3つの部分** を全て確認する
- チェックリスト内に注釈がある場合は、その内容を十分に理解してから判断する


## プロジェクトの運用について

- ソースコード内のコメントは日本語で記述してください
- CMakeLists.txtは日本語で記述してください
- コミットログは日本語で記述してください
- 基本的には日本語を使用し、英語は避けてください
- コメント記号は `/* */` のみ使用（C の `//` は禁止）
- 作成したドキュメントのファイル名は日本語とし、`doc` フォルダに格納してください
- テスト作成時は `target` フォルダ以下の変更は禁止です
- 作業中の試行錯誤で生成されたファイルは完了時に整理・削除してください
- 関数のシグネチャコメントはDoxygen形式でお願いします

## コード品質チェックリスト

コード生成後、以下の項目をすべてチェックしてください：

- [ ] コメント記号が `/* */` のみで、`//` がないか確認
- [ ] コメント内容が**日本語のみ**で、英語がないか確認
- [ ] 括弧スペース規則：`if ( condition )`、`for ( i = 0; ... )` の形式か確認
- [ ] 開き括弧 `{` が次の行に配置されているか確認
  - 関数定義：関数名の直後ではなく、次行に `{` を配置
  - 制御構文内の `if/for/while` の `{` は同じ行でOK

## C言語のコーディングルール

### コメントの書き方

■ OK
```c
/* コメントはこの記載で */
```

■ NG
```c
/* 複数行に跨るコメント
   この記載方法は禁止です */

// 単行コメントも禁止です
```

### if文・for文等の制御構文の書き方
- `{` はインデントを下げて記述してください
- `()` 内は前後に半角スペースを挿入してください

```c
/* if文 */
if ( a == 1 )
{
    /* 処理 */
}

/* 複数条件 */
if ( ( a == 0 ) 
  && ( b == 0 ) )
{
    /* 処理 */
}

/* switch文 */
switch ( step )
{
    case 1 :
        break;
    
    case 2 :
        break;

    default :
        break;
}

/* for文 */
for ( i = 0; i < 10; i++ )
{
    /* 処理 */
}

/* while文 */
while ( 1 )
{
    /* 処理 */
}

/* do-while文 */
do
{
    /* 処理 */
} while ( 1 );
```
