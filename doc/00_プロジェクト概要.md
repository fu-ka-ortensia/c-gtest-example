# C テスト プロジェクト概要

## プロジェクト目的

このプロジェクトは、C 言語で実装されたモジュール（moduleA、moduleB、moduleC）のユニットテストを Google Test（GTest）と FFF（Fake Functions Framework）を使用して実装したものです。

## 主な特徴

- **GTest**: C++ 拡張ユニットテストフレームワーク
- **FFF**: 外部依存関数をスタブ化するための Fake Functions Framework
- **CMake**: ビルドシステム
- **カバレッジ測定**: gcov を使用したコード カバレッジの測定

## プロジェクト構成

```
c_test_prj/
├── target/                 # 本体モジュール（テスト対象）
│   ├── inc/               # 共通ヘッダーファイル
│   │   ├── common.h       # 型定義（u1, s4, u4 など）
│   │   └── u4g_mem.h      # 外部モジュール関数の宣言
│   └── jchg/              # 各モジュール実装
│       ├── moduleA/
│       ├── moduleB/
│       └── moduleC/
├── tests/                  # テストファイル
│   ├── moduleA/
│   ├── moduleB/
│   └── moduleC/           # moduleC テスト
├── double/                 # スタブファイル（将来の拡張用）
│   ├── moduleA/
│   ├── moduleB/
│   └── moduleC/
├── fff/                    # Fake Functions Framework
├── GoogleTest/             # GoogleTest フレームワーク
├── build/                  # ビルド出力ディレクトリ
├── output/                 # テスト実行結果とカバレッジ
├── doc/                    # ドキュメント
└── CMakeLists.txt          # ルート CMake 設定
```

## 型定義

`target/inc/common.h` で定義されている型：

```c
typedef signed char s1;      /* 1 byte - 符号付き */
typedef signed short s2;     /* 2 bytes - 符号付き */
typedef signed long s4;      /* 4 bytes - 符号付き */

typedef unsigned char u1;    /* 1 byte - 符号なし */
typedef unsigned short u2;   /* 2 bytes - 符号なし */
typedef unsigned long u4;    /* 4 bytes - 符号なし */
```

## 外部モジュール

`u4g_mem_wirte`: メモリ書き込み関数
- **宣言**: `target/inc/u4g_mem.h`
- **役割**: 外部システムのメモリ書き込みインターフェース
- **テスト**: FFF を使用したスタブ化
- **戻り値**: 書き込んだバイト数

## 関連ドキュメント

- [00_プロジェクト概要](00_プロジェクト概要.md) - このファイル
- [01_環境構築ガイド](01_環境構築ガイド.md)
- [02_モジュール別テスト説明](02_モジュール別テスト説明.md)
- [03_FFFスタブ化ガイド](03_FFFスタブ化ガイド.md)
- [04_ビルドと実行ガイド](04_ビルドと実行ガイド.md)
- [README](README.md) - ナビゲーションとFAQ
